<!DOCTYPE html>
<html lang="km">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>·ûö·û∂·ûî·üã·ûê·ûô·ûÄ·üí·ûö·üÑ·ûô·ûñ·üí·ûö·ûπ·ûè·üí·ûè·û∑·ûÄ·û∂·ûö·ûé·üç·ûÅ·üí·ûò·üÇ·ûö</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Hanuman:wght@100;300;400;700;900&display=swap");

      :root {
        --primary-color: #ff6b6b;
        --secondary-color: #4ecdc4;
        --accent-color: #ffd93d;
        --background-color: #f7f7f7;
        --text-color: #333333;
      }

      body {
        font-family: "Hanuman", serif;
        background-color: var(--background-color);
        color: var(--text-color);
        margin: 0;
        padding: 0;
        overflow-x: hidden;
      }

      .gradient-background {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color),
          var(--accent-color)
        );
        background-size: 300% 300%;
        animation: gradientBG 15s ease infinite;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        position: relative;
      }

      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .countdown-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        border: 1px solid rgba(255, 255, 255, 0.18);
        transition: all 0.3s ease;
        padding: 2rem;
        margin-bottom: 2rem;
        max-width: 600px;
        width: 100%;
      }

      .countdown-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.45);
      }

      .time-units {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }

      .time-unit {
        min-width: 80px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 15px;
        padding: 15px;
        margin: 0.5rem;
        text-align: center;
        transition: all 0.3s ease;
      }

      .time-unit:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.05);
      }

      .btn {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(5px);
        border-radius: 50px;
        padding: 12px 24px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        transition: all 0.3s ease;
        color: white;
        cursor: pointer;
        font-size: 1rem;
        margin: 0.5rem;
        outline: none;
      }

      .btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .btn:active {
        transform: translateY(0);
      }

      .title {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        font-size: 2.5rem;
        color: white;
        text-align: center;
        margin-bottom: 2rem;
        animation: fadeIn 1s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      #eventName {
        font-size: 1.8rem;
        font-weight: bold;
        color: white;
        text-align: center;
        margin-bottom: 1rem;
      }

      #eventDate {
        color: rgba(255, 255, 255, 0.8);
        text-align: center;
        margin-bottom: 1.5rem;
        font-size: 1.2rem;
      }

      .time-value {
        font-size: 2.5rem;
        font-weight: bold;
        color: white;
      }

      .time-label {
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.8);
        margin-top: 0.5rem;
      }

      .controls {
        display: flex;
        justify-content: space-between;
        max-width: 600px;
        width: 100%;
      }

      footer {
        margin-top: 2rem;
        color: rgba(255, 255, 255, 0.8);
        text-align: center;
        font-size: 0.9rem;
      }

      #particles-js {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: -1;
      }

      .progress-bar {
        width: 100%;
        height: 10px;
        background-color: rgba(255, 255, 255, 0.2);
        border-radius: 5px;
        margin-top: 1rem;
        overflow: hidden;
      }

      .progress {
        height: 100%;
        background-color: var(--accent-color);
        transition: width 0.5s ease-in-out;
      }

      .social-share {
        display: flex;
        justify-content: center;
        margin-top: 1rem;
      }

      .social-btn {
        display: flex;
        font-size: 20px;
        align-items: center;
        margin: 0 0.5rem;
        padding: 12px;
        background-color: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
        justify-content: center;
      }
      .social-btn:hover {
        background-color: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      .fun-fact {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(5px);
        border-radius: 10px;
        padding: 1rem;
        margin-top: 1rem;
        text-align: center;
        color: white;
        font-style: italic;
      }

      .social-media-ad {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 1.5rem;
        margin-top: 2rem;
        text-align: center;
        color: white;
        max-width: 600px;
        width: 100%;
      }

      .social-media-icons {
        display: flex;
        justify-content: center;
        margin-top: 1rem;
      }

      .social-media-icon {
        font-size: 2rem;
        margin: 0 1rem;
        color: white;
        transition: all 0.3s ease;
      }

      .social-media-icon:hover {
        transform: scale(1.2);
      }

      .event-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 1rem;
      }

      .theme-toggle {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
      }

      .dark-theme {
        --primary-color: #2c3e50;
        --secondary-color: #34495e;
        --accent-color: #f1c40f;
        --background-color: #1a1a1a;
        --text-color: #ffffff;
      }

      @media (max-width: 600px) {
        .title {
          font-size: 2rem;
        }
        #eventName {
          font-size: 1.5rem;
        }
        .time-value {
          font-size: 2rem;
        }
        .time-label {
          font-size: 0.9rem;
        }
        .btn {
          padding: 10px 20px;
          font-size: 0.9rem;
        }
        .social-media-icon {
          font-size: 1.5rem;
        }
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
  </head>
  <body>
    <div id="particles-js"></div>
    <div class="gradient-background">
      <button class="theme-toggle" id="themeToggle">üåì</button>
      <h1 class="title">
        <span id="mainTitle">·ûö·û∂·ûî·üã·ûê·ûô·ûÄ·üí·ûö·üÑ·ûô·ûñ·üí·ûö·ûπ·ûè·üí·ûè·û∑·ûÄ·û∂·ûö·ûé·üç·ûÅ·üí·ûò·üÇ·ûö</span>
      </h1>

      <div class="countdown-card">
        <img
          id="eventImage"
          class="event-image"
          src="/placeholder.svg?height=200&width=600"
          alt="Event image"
        />
        <h2 id="eventName"></h2>
        <p id="eventDate"></p>
        <div class="time-units">
          <div class="time-unit">
            <div id="days" class="time-value"></div>
            <div id="daysLabel" class="time-label">·ûê·üí·ûÑ·üÉ</div>
          </div>
          <div class="time-unit">
            <div id="hours" class="time-value"></div>
            <div id="hoursLabel" class="time-label">·ûò·üâ·üÑ·ûÑ</div>
          </div>
          <div class="time-unit">
            <div id="minutes" class="time-value"></div>
            <div id="minutesLabel" class="time-label">·ûì·û∂·ûë·û∏</div>
          </div>
          <div class="time-unit">
            <div id="seconds" class="time-value"></div>
            <div id="secondsLabel" class="time-label">·ûú·û∑·ûì·û∂·ûë·û∏</div>
          </div>
        </div>
        <div class="progress-bar">
          <div id="progress" class="progress"></div>
        </div>
        <div class="fun-fact" id="funFact"></div>
      </div>

      <div class="controls">
        <button id="prevEvent" class="btn">‚Üê ·ûò·ûª·ûì</button>
        <button id="toggleLang" class="btn">·ûî·üí·ûä·ûº·ûö·ûó·û∂·ûü·û∂ / Switch Language</button>
        <button id="nextEvent" class="btn">·ûî·ûì·üí·ûë·û∂·ûî·üã ‚Üí</button>
      </div>

      <div class="social-share">
        <div class="social-btn" onclick="shareOnFacebook()">
          <i class="fab fa-facebook-f"></i>
        </div>
        <div class="social-btn" onclick="shareOnTwitter()">
          <i class="fab fa-twitter"></i>
        </div>
      </div>

      <div class="social-media-ad">
        <h3 id="followUs">·ûè·û∂·ûò·ûä·û∂·ûì·ûô·ûæ·ûÑ·ûì·üÖ·ûõ·ûæ·ûî·ûé·üí·ûè·û∂·ûâ·ûü·ûÑ·üí·ûÇ·ûò</h3>
        <div class="social-media-icons">
          <a
            href="https://web.facebook.com/itmelong168/about"
            class="social-media-icon"
            ><i class="fab fa-facebook"></i
          ></a>
          <a
            href="https://www.instagram.com/shesh_long/?__pwa=1"
            class="social-media-icon"
            ><i class="fab fa-instagram"></i
          ></a>
          <a
            href="https://www.tiktok.com/@shesh_long?is_from_webapp=1&sender_device=pc"
            class="social-media-icon"
            ><i class="fab fa-tiktok"></i
          ></a>
          <a href="https://t.me/Lo_ng999" class="social-media-icon"
            ><i class="fab fa-telegram"></i
          ></a>
        </div>
      </div>

      <footer>
        <p id="copyright">¬© ·ü¢·ü†·ü¢·ü§ ·ûö·û∂·ûî·üã·ûê·ûô·ûÄ·üí·ûö·üÑ·ûô·ûÅ·üí·ûò·üÇ·ûö·üî ·ûö·ûÄ·üí·ûü·û∂·ûü·û∑·ûë·üí·ûí·û∑·ûÇ·üí·ûö·ûî·üã·ûô·üâ·û∂·ûÑ·üî</p>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
      const events = [
        {
          nameEn: "Khmer New Year",
          nameKh: "·ûî·ûª·ûé·üí·ûô·ûÖ·ûº·ûõ·ûÜ·üí·ûì·û∂·üÜ·ûÅ·üí·ûò·üÇ·ûö",
          date: "2025-04-14",
          funFactEn:
            "Khmer New Year is celebrated for three days, each with its own special meaning.",
          funFactKh:
            "·ûî·ûª·ûé·üí·ûô·ûÖ·ûº·ûõ·ûÜ·üí·ûì·û∂·üÜ·ûÅ·üí·ûò·üÇ·ûö·ûè·üí·ûö·ûº·ûú·ûî·û∂·ûì·ûî·üí·ûö·û∂·ûö·ûñ·üí·ûí·û°·ûæ·ûÑ·ûö·ûô·üà·ûñ·üÅ·ûõ·ûî·û∏·ûê·üí·ûÑ·üÉ ·ûä·üÑ·ûô·ûê·üí·ûÑ·üÉ·ûì·û∏·ûò·ûΩ·ûô·üó·ûò·û∂·ûì·û¢·ûè·üí·ûê·ûì·üê·ûô·ûñ·û∑·ûü·üÅ·ûü·ûö·üÄ·ûÑ·üó·ûÅ·üí·ûõ·ûΩ·ûì·üî",
          image:
            "https://www.redbus.com.kh/blogs/wp-content/uploads/2024/03/Khmer-new-year-2024.jpg?height=200&width=600&text=Khmer+New+Year",
        },
        {
          nameEn: "Water Festival",
          nameKh: "·ûî·ûª·ûé·üí·ûô·û¢·ûª·üÜ·ûë·ûº·ûÄ",
          date: "2024-11-26",
          funFactEn:
            "The Water Festival commemorates the end of the rainy season and the reversal of flow of the Tonle Sap River.",
          funFactKh:
            "·ûñ·û∑·ûí·û∏·ûî·ûª·ûé·üí·ûô·û¢·ûª·üÜ·ûë·ûº·ûÄ·ûÇ·û∫·ûá·û∂·ûÄ·û∂·ûö·ûî·üí·ûö·û∂·ûö·ûñ·üí·ûí·ûñ·û∑·ûí·û∏·ûî·ûâ·üí·ûÖ·ûî·üã·ûö·ûä·ûº·ûú·ûú·ûü·üí·ûü·û∂ ·ûì·û∑·ûÑ·ûÄ·û∂·ûö·ûî·ûâ·üí·ûÖ·üí·ûö·û∂·ûü·ûë·û∑·ûü·ûì·üÉ·ûÖ·ûö·ûì·üí·ûè·ûë·ûπ·ûÄ·ûë·ûì·üí·ûõ·üÅ·ûü·û∂·ûî·üî",
          image:
            "https://cdn.pixabay.com/photo/2019/10/15/05/41/khmer-water-festival-4550646_1280.jpg?height=200&width=600&text=Water+Festival",
        },
        {
          nameEn: "Pchum Ben",
          nameKh: "·ûî·ûª·ûé·üí·ûô·ûó·üí·ûá·ûª·üÜ·ûî·û∑·ûé·üí·ûå",
          date: "2025-9-23",
          funFactEn:
            "Pchum Ben is a 15-day Cambodian religious festival, culminating in celebrations on the 15th day of the tenth month in the Khmer calendar.",
          funFactKh:
            "·ûî·ûª·ûé·üí·ûô·ûó·üí·ûá·ûª·üÜ·ûî·û∑·ûé·üí·ûå·ûÇ·û∫·ûá·û∂·ûñ·û∑·ûí·û∏·ûî·ûª·ûé·üí·ûô·ûü·û∂·ûü·ûì·û∂·ûÅ·üí·ûò·üÇ·ûö·ûä·üÇ·ûõ·ûò·û∂·ûì·ûö·ûô·üà·ûñ·üÅ·ûõ·ü°·ü•·ûê·üí·ûÑ·üÉ ·ûä·üÑ·ûô·ûê·üí·ûÑ·üÉ·ûü·üÜ·ûÅ·û∂·ûì·üã·ûî·üÜ·ûï·ûª·ûè·ûÇ·û∫·ûì·üÖ·ûê·üí·ûÑ·üÉ·ûë·û∏·ü°·ü•·ûì·üÉ·ûÅ·üÇ·ûë·û∏·ü°·ü†·ûÄ·üí·ûì·ûª·ûÑ·ûî·üí·ûö·ûè·û∑·ûë·û∑·ûì·ûÅ·üí·ûò·üÇ·ûö·üî",
          image:
            "https://www.redbus.com.kh/blogs/wp-content/uploads/2024/08/Pchum-Ben-2024_11zon-1.jpg?height=200&width=600&text=Pchum+Ben",
        },
        {
          nameEn: "Bac II Exam",
          nameKh: "·ûÄ·û∂·ûö·ûî·üí·ûö·û°·ûÑ·ûü·ûâ·üí·ûâ·û∂·ûî·ûè·üí·ûö·ûò·ûí·üí·ûô·ûò·ûü·û∑·ûÄ·üí·ûü·û∂·ûë·ûª·ûè·û∑·ûô·ûó·ûº·ûò·û∑",
          date: "2025-08-04",
          funFactEn:
            "The Bac II Exam is a crucial milestone for Cambodian students, determining their eligibility for university admission.",
          funFactKh:
            "·ûÄ·û∂·ûö·ûî·üí·ûö·û°·ûÑ·ûü·ûâ·üí·ûâ·û∂·ûî·ûè·üí·ûö·ûò·ûí·üí·ûô·ûò·ûü·û∑·ûÄ·üí·ûü·û∂·ûë·ûª·ûè·û∑·ûô·ûó·ûº·ûò·û∑·ûÇ·û∫·ûá·û∂·ûÄ·û∂·ûö·ûî·üí·ûö·û°·ûÑ·ûä·üè·ûü·üÜ·ûÅ·û∂·ûì·üã·ûü·ûò·üí·ûö·û∂·ûî·üã·ûü·û∑·ûü·üí·ûü·ûÅ·üí·ûò·üÇ·ûö ·ûä·üÇ·ûõ·ûÄ·üÜ·ûé·ûè·üã·ûõ·ûë·üí·ûí·ûó·û∂·ûñ·ûÄ·üí·ûì·ûª·ûÑ·ûÄ·û∂·ûö·ûÖ·ûº·ûõ·ûö·üÄ·ûì·ûì·üÖ·ûü·û∂·ûÄ·ûõ·ûú·û∑·ûë·üí·ûô·û∂·ûõ·üê·ûô·üî",
          image:
            "https://pppenglish.sgp1.digitaloceanspaces.com/image/main/field/image/topic-9.-2nd-day-of-bacii-exam-2019-at-boung-trobek-high-school-on-august-20-by-hean-rangsey-1.jpg?height=200&width=600&text=Bac+II+Exam",
        },
        {
          nameEn: "Visak Bochea",
          nameKh: "·ûñ·û∑·ûí·û∏·ûî·ûª·ûé·üí·ûô·ûú·û∑·ûü·û∂·ûÅ·ûî·ûº·ûá·û∂",
          date: "2025-05-12",
          funFactEn:
            "Visak Bochea commemorates the birth, enlightenment, and death of Buddha, which all occurred on the same date in different years.",
          funFactKh:
            "·ûñ·û∑·ûí·û∏·ûî·ûª·ûé·üí·ûô·ûú·û∑·ûü·û∂·ûÅ·ûî·ûº·ûá·û∂·ûÇ·û∫·ûá·û∂·ûÄ·û∂·ûö·ûö·üÜ·û≠·ûÄ·ûä·ûõ·üã·ûê·üí·ûÑ·üÉ·ûî·üí·ûö·ûü·ûº·ûè·üí·ûö ·ûè·üí·ûö·û∂·ûü·üã·ûä·ûπ·ûÑ ·ûì·û∑·ûÑ·ûî·ûö·û∑·ûì·û∑·ûñ·üí·ûú·û∂·ûì·ûö·ûî·ûü·üã·ûñ·üí·ûö·üá·ûñ·ûª·ûë·üí·ûí ·ûä·üÇ·ûõ·ûî·û∂·ûì·ûÄ·ûæ·ûè·û°·ûæ·ûÑ·ûì·üÖ·ûê·üí·ûÑ·üÉ·ûä·ûº·ûÖ·ûÇ·üí·ûì·û∂·ûÄ·üí·ûì·ûª·ûÑ·ûÜ·üí·ûì·û∂·üÜ·ûï·üí·ûü·üÅ·ûÑ·üó·ûÇ·üí·ûì·û∂·üî",
          image:
            "https://wmc.org.kh/wp-content/uploads/2020/05/FB_IMG_1588727266676-1.jpg?height=200&width=600&text=Visak+Bochea",
        },
        {
          nameEn: "Diploma Exam (Grade 9)",
          nameKh: "·ûÄ·û∂·ûö·ûî·üí·ûö·û°·ûÑ·ûü·ûâ·üí·ûâ·û∂·ûî·ûè·üí·ûö·ûî·ûã·ûò·ûü·û∑·ûÄ·üí·ûü·û∂·ûë·ûª·ûè·û∑·ûô·ûó·ûº·ûò·û∑",
          date: "2025-06-15",
          funFactEn:
            "The Grade 9 Diploma Exam marks the completion of lower secondary education in Cambodia.",
          funFactKh:
            "·ûÄ·û∂·ûö·ûî·üí·ûö·û°·ûÑ·ûü·ûâ·üí·ûâ·û∂·ûî·ûè·üí·ûö·ûî·ûã·ûò·ûü·û∑·ûÄ·üí·ûü·û∂·ûë·ûª·ûè·û∑·ûô·ûó·ûº·ûò·û∑·ûÇ·û∫·ûá·û∂·ûÄ·û∂·ûö·ûî·ûâ·üí·ûÖ·ûî·üã·ûÄ·û∂·ûö·ûü·û∑·ûÄ·üí·ûü·û∂·ûê·üí·ûì·û∂·ûÄ·üã·ûò·ûí·üí·ûô·ûò·ûü·û∑·ûÄ·üí·ûü·û∂·ûî·ûã·ûò·ûó·ûº·ûò·û∑·ûì·üÖ·ûÄ·ûò·üí·ûñ·ûª·ûá·û∂·üî",
          image:
            "https://education.ams.com.kh/wp-content/uploads/2022/12/Ba_02-1.jpg",
        },
      ];

      let currentEventIndex = 0;
      let isKhmer = true;

      const khmerNumerals = ["·ü†", "·ü°", "·ü¢", "·ü£", "·ü§", "·ü•", "·ü¶", "·üß", "·ü®", "·ü©"];

      function toKhmerNumeral(num) {
        return num
          .toString()
          .split("")
          .map((digit) => khmerNumerals[parseInt(digit)])
          .join("");
      }

      function updateCountdown() {
        const currentEvent = events[currentEventIndex];
        const eventDate = new Date(currentEvent.date);
        const now = new Date();
        const difference = eventDate - now;
        const totalDuration =
          eventDate -
          new Date(
            events[(currentEventIndex - 1 + events.length) % events.length].date
          );

        const days = Math.floor(difference / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor(
          (difference % (1000 * 60 * 60)) / (1000 * 60)
        );
        const seconds = Math.floor((difference % (1000 * 60)) / 1000);

        document.getElementById("eventName").textContent = isKhmer
          ? currentEvent.nameKh
          : currentEvent.nameEn;
        document.getElementById("eventDate").textContent =
          eventDate.toLocaleDateString(isKhmer ? "km-KH" : "en-US", {
            year: "numeric",
            month: "long",
            day: "numeric",
          });

        document.getElementById("days").textContent = isKhmer
          ? toKhmerNumeral(days)
          : days;
        document.getElementById("hours").textContent = isKhmer
          ? toKhmerNumeral(hours)
          : hours;
        document.getElementById("minutes").textContent = isKhmer
          ? toKhmerNumeral(minutes)
          : minutes;
        document.getElementById("seconds").textContent = isKhmer
          ? toKhmerNumeral(seconds)
          : seconds;

        // Update progress bar
        const progress = 100 - (difference / totalDuration) * 100;
        document.getElementById("progress").style.width = `${progress}%`;

        // Update fun fact
        document.getElementById("funFact").textContent = isKhmer
          ? currentEvent.funFactKh
          : currentEvent.funFactEn;

        // Update event image
        document.getElementById("eventImage").src = currentEvent.image;
        document.getElementById("eventImage").alt = isKhmer
          ? currentEvent.nameKh
          : currentEvent.nameEn;
      }

      function changeEvent(direction) {
        currentEventIndex =
          (currentEventIndex + direction + events.length) % events.length;
        updateCountdown();
      }

      function toggleLanguage() {
        isKhmer = !isKhmer;
        updateUI();
        updateCountdown();
      }

      function updateUI() {
        document
          .querySelector("html")
          .setAttribute("lang", isKhmer ? "km" : "en");
        document.getElementById("mainTitle").textContent = isKhmer
          ? "·ûö·û∂·ûî·üã·ûê·ûô·ûÄ·üí·ûö·üÑ·ûô·ûñ·üí·ûö·ûπ·ûè·üí·ûè·û∑·ûÄ·û∂·ûö·ûé·üç·ûÅ·üí·ûò·üÇ·ûö"
          : "Khmer Event Countdown";
        document.getElementById("prevEvent").textContent = isKhmer
          ? "‚Üê ·ûò·ûª·ûì"
          : "‚Üê Previous";
        document.getElementById("nextEvent").textContent = isKhmer
          ? "·ûî·ûì·üí·ûë·û∂·ûî·üã ‚Üí"
          : "Next ‚Üí";
        document.getElementById("toggleLang").textContent = isKhmer
          ? "·ûî·üí·ûä·ûº·ûö·ûó·û∂·ûü·û∂ / Switch Language"
          : "Switch Language / ·ûî·üí·ûä·ûº·ûö·ûó·û∂·ûü·û∂";
        document.getElementById("copyright").textContent = isKhmer
          ? "¬© ·ü¢·ü†·ü¢·ü§ ·ûö·û∂·ûî·üã·ûê·ûô·ûÄ·üí·ûö·üÑ·ûô·ûÅ·üí·ûò·üÇ·ûö·üî ·ûö·ûÄ·üí·ûü·û∂·ûü·û∑·ûë·üí·ûí·û∑·ûÇ·üí·ûö·ûî·üã·ûô·üâ·û∂·ûÑ·üî"
          : "¬© 2024 Khmer Countdown. All rights reserved.";

        document.getElementById("daysLabel").textContent = isKhmer
          ? "·ûê·üí·ûÑ·üÉ"
          : "Days";
        document.getElementById("hoursLabel").textContent = isKhmer
          ? "·ûò·üâ·üÑ·ûÑ"
          : "Hours";
        document.getElementById("minutesLabel").textContent = isKhmer
          ? "·ûì·û∂·ûë·û∏"
          : "Minutes";
        document.getElementById("secondsLabel").textContent = isKhmer
          ? "·ûú·û∑·ûì·û∂·ûë·û∏"
          : "Seconds";

        document.getElementById("followUs").textContent = isKhmer
          ? "·ûè·û∂·ûò·ûä·û∂·ûì·ûô·ûæ·ûÑ·ûì·üÖ·ûõ·ûæ·ûî·ûé·üí·ûè·û∂·ûâ·ûü·ûÑ·üí·ûÇ·ûò"
          : "Follow us on social media";
      }

      function shareOnFacebook() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent(
          `Check out the countdown for ${events[currentEventIndex].nameEn}!`
        );
        window.open(
          `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`,
          "_blank"
        );
      }

      function shareOnTwitter() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent(
          `Counting down to ${events[currentEventIndex].nameEn}! Check it out:`
        );
        window.open(
          `https://twitter.com/intent/tweet?url=${url}&text=${text}`,
          "_blank"
        );
      }

      document
        .getElementById("prevEvent")
        .addEventListener("click", () => changeEvent(-1));
      document
        .getElementById("nextEvent")
        .addEventListener("click", () => changeEvent(1));
      document
        .getElementById("toggleLang")
        .addEventListener("click", toggleLanguage);

      // Initialize particles.js
      particlesJS("particles-js", {
        particles: {
          number: { value: 80, density: { enable: true, value_area: 800 } },
          color: { value: "#ffffff" },
          shape: { type: "circle" },
          opacity: { value: 0.5, random: false },
          size: { value: 3, random: true },
          line_linked: {
            enable: true,
            distance: 150,
            color: "#ffffff",
            opacity: 0.4,
            width: 1,
          },
          move: {
            enable: true,
            speed: 6,
            direction: "none",
            random: false,
            straight: false,
            out_mode: "out",
            bounce: false,
          },
        },
        interactivity: {
          detect_on: "canvas",
          events: {
            onhover: { enable: true, mode: "repulse" },
            onclick: { enable: true, mode: "push" },
            resize: true,
          },
          modes: {
            repulse: { distance: 100, duration: 0.4 },
            push: { particles_nb: 4 },
          },
        },
        retina_detect: true,
      });

      // Theme toggle functionality
      const themeToggle = document.getElementById("themeToggle");
      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-theme");
        themeToggle.textContent = document.body.classList.contains("dark-theme")
          ? "‚òÄÔ∏è"
          : "üåì";
      });

      updateCountdown();
      setInterval(updateCountdown, 1000);

      // Check for notifications permission and request if not granted
      if ("Notification" in window) {
        if (
          Notification.permission !== "granted" &&
          Notification.permission !== "denied"
        ) {
          Notification.requestPermission().then(function (permission) {
            if (permission === "granted") {
              console.log("Notification permission granted.");
            }
          });
        }
      }

      // Set notification for 1 day before each event
      function setEventNotifications() {
        events.forEach((event) => {
          const eventDate = new Date(event.date);
          const notificationDate = new Date(
            eventDate.getTime() - 24 * 60 * 60 * 1000
          );
          const now = new Date();

          if (notificationDate > now) {
            const timeUntilNotification =
              notificationDate.getTime() - now.getTime();
            setTimeout(() => {
              if (Notification.permission === "granted") {
                new Notification(`Upcoming Event: ${event.nameEn}`, {
                  body: `${event.nameEn} is tomorrow!`,
                  icon: "/path/to/icon.png", // Add an appropriate icon path
                });
              }
            }, timeUntilNotification);
          }
        });
      }

      setEventNotifications();
    </script>
  </body>
</html>
